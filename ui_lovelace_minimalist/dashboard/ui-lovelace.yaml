---
button_card_templates: !include_dir_merge_named "../../custom_components/ui_lovelace_minimalist/__ui_minimalist__/ulm_templates/"

title: "UI Minimalist Test"
theme: "minimalist-desktop"
background: "var(--background-image)"
# views: !include_dir_merge_list "views/"
views:
  - title: "Example View"
    path: 0
    icon: "mdi:flower"
    cards:
      - type: "horizontal-stack"
        cards:
          - type: "custom:button-card"
            template: chip_alarm
            entity: alarm_control_panel.panel
          - type: "custom:button-card"
            template: chip_temperature
            variables:
              ulm_chip_temperature_inside: sensor.main_floor_temperature
              ulm_chip_temperature_outside: sensor.hue_outdoor_motion_sensor_1_temperature
              ulm_chip_temperature_weather: weather.kpwk_daynight

          - type: "custom:button-card"
            template: chip_mdi_icon_state
            variables:
              ulm_chip_mdi_icon_state_entity: input_select.house
              ulm_chip_mdi_icon_state_icon: mdi:lightbulb
            label: >
              [[[
                return states[variables.ulm_chip_mdi_icon_state_entity].state + ' Mode';
              ]]]
            icon: >
              [[[
                var state = states[variables.ulm_chip_mdi_icon_state_entity].state;
                if (state == "Quiet") {
                  return "mdi:sleep"
                } else if (state == "Away") {
                  return "mdi:home-alert"
                } else if (state == "Bedtime") {
                  return "mdi:power-sleep" 
                } else {
                  return "mdi:home-account"
                }
              ]]]

          - type: "custom:button-card"
            template: chip_mdi_icon_state
            variables:
              ulm_chip_mdi_icon_state_entity: lock.front_door
              ulm_chip_mdi_icon_state_icon: mdi:lock
            label: Front Door
            icon: >
              [[[
                var state = states[variables.ulm_chip_mdi_icon_state_entity].state;
                if (state == "locked") {
                  return "mdi:lock"
                } else {
                  return "mdi:lock-open"
                }
              ]]]

      - type: "vertical-stack"
        cards:
          - type: "custom:button-card"
            template: card_weather
            entity: weather.kpwk_hourly
            variables:
              ulm_card_weather_name: "Weather"
              ulm_card_weather_primary_info: extrema
              ulm_card_weather_secondary_info: precipitation_probability
              ulm_card_weather_backdrop: false
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template: card_person
                entity: person.john_koht
                variables:
                  ulm_card_person_entity: person.john_koht
                  ulm_card_person_use_entity_picture: true
                  ulm_card_person_icon: mdi:face-man
                  ulm_card_person_battery: sensor.jk_iphone_14_battery_level
              - type: "custom:button-card"
                template: card_person
                entity: person.cristina_falbo
                variables:
                  ulm_card_person_entity: person.cristina_falbo
                  ulm_card_person_use_entity_picture: true
                  ulm_card_person_icon: mdi:face-woman
                  ulm_card_person_battery: sensor.cfalb_iphone_14_battery_level
          - type: "grid"
            columns: 2
            cards:
              - type: "custom:button-card"
                template:
                  - card_room
                  - red_no_state
                name: Kitchen
                entity: input_boolean.kitchen_occupied
                icon: mdi:fridge
                label: >
                  [[[
                    return (entity.state == "on" ? "Occupied" : "Empty");
                  ]]]
                # tap_action:
                #   action: navigate
                #   navigation_path: '/ui-lovelace-minimalist/bathroom'
                variables:
                  label_use_temperature: false
                  label_use_brightness: false
                  entity_1:
                    entity_id: light.kitchen_lights
                    templates:
                      - yellow_on
                    tap_action:
                      action: toggle
                  entity_2:
                    entity_id: binary_sensor.kitchen_motion_sensor_status
                    templates:
                      - blue_on
                    tap_action:
                      action: none
                  entity_3:
                    entity_id: media_player.sonos_kitchen
                    templates:
                      - green_on
                      - red_off
                    tap_action:
                      action: none
              # Family Room
              - type: "custom:button-card"
                template:
                  - card_room
                  - red_no_state
                name: Kitchen
                entity: input_boolean.family_room_occupied
                icon: mdi:sofa
                label: >
                  [[[
                    return (entity.state == "on" ? "Occupied" : "Empty");
                  ]]]
                # tap_action:
                #   action: navigate
                #   navigation_path: '/ui-lovelace-minimalist/bathroom'
                variables:
                  label_use_temperature: false
                  label_use_brightness: false
                  entity_1:
                    entity_id: light.family_room_main_lights
                    templates:
                      - yellow_on
                    tap_action:
                      action: toggle
                  entity_2:
                    entity_id: binary_sensor.family_room_motion_sensor
                    templates:
                      - blue_on
                    tap_action:
                      action: none
                  entity_3:
                    entity_id: media_player.sonos_family_room
                    templates:
                      - green_on
                      - red_off
                    tap_action:
                      action: none
                  entity_4:
                    entity_id: media_player.sony_bravia_tv
                    templates:
                      - green_on
                      - red_off
                    tap_action:
                      action: none
              # Playroom
              - type: "custom:button-card"
                template:
                  - card_room
                  - red_no_state
                name: Playroom
                entity: input_boolean.playroom_occupied
                icon: hue:room-nursery
                label: >
                  [[[
                    return (entity.state == "on" ? "Occupied" : "Empty");
                  ]]]
                # tap_action:
                #   action: navigate
                #   navigation_path: '/ui-lovelace-minimalist/bathroom'
                variables:
                  label_use_temperature: false
                  label_use_brightness: false
                  entity_1:
                    entity_id: group.playroom_lights
                    templates:
                      - yellow_on
                    tap_action:
                      action: toggle
                  entity_2:
                    entity_id: binary_sensor.playroom_motion
                    templates:
                      - blue_on
                    tap_action:
                      action: none
                  entity_3:
                    entity_id: media_player.sonos_playroom
                    templates:
                      - green_on
                      - red_off
                    tap_action:
                      action: none
              # Office
              - type: "custom:button-card"
                template:
                  - card_room
                  - red_no_state
                name: Office
                entity: input_boolean.office_occupied
                icon: mdi:laptop
                label: >
                  [[[
                    var state = (entity.state == "on" ? "Occupied" : "Empty");
                    var duration = entity.last_updated;
                    return state + " - " + duration;
                  ]]]
                # tap_action:
                #   action: navigate
                #   navigation_path: '/ui-lovelace-minimalist/bathroom'
                variables:
                  label_use_temperature: false
                  label_use_brightness: false
                  entity_1:
                    entity_id: group.office_lights
                    templates:
                      - yellow_on
                    tap_action:
                      action: toggle
                  entity_2:
                    entity_id: binary_sensor.office_aqara_motion_sensor
                    templates:
                      - blue_on
                    tap_action:
                      action: none
                  entity_3:
                    entity_id: media_player.sonos_office
                    templates:
                      - green_on
                      - red_off
                    tap_action:
                      action: none

          - type: "custom:button-card"
            template: "card_title"
            name: "NEW WORKING Congrats with your installation ðŸŽ‰"
            label: "Explore some of the wonderful 'Minimalistic-UI' cards we offer here"
          - type: "custom:auto-entities"
            card:
              type: "grid"
              columns: 1
              square: false
            card_param: "cards"
            sort:
              count: 1
            filter:
              include:
                - domain: "weather"
                  options:
                    type: "custom:button-card"
                    template: "card_welcome_scenes"
                    variables:
                      ulm_weather: "this.entity_id"
          - type: "custom:button-card"
            template: "card_title"
            name: "[[[ hass.resources[hass['language']]['ui.panel.lovelace.editor.card.light.name'] ]]]"
            label: "This is the Minimalist-light-card"
          - type: "custom:auto-entities"
            card:
              type: "grid"
              columns: 2
              square: false
            card_param: "cards"
            sort:
              count: 4
            filter:
              include:
                - domain: "light"
                  options:
                    type: "custom:button-card"
                    template: "card_light"
                    variables:
                      ulm_card_light_enable_slider: true
                      ulm_card_light_enable_color: true
                      ulm_card_light_enable_popup: true
          - type: "custom:button-card"
            template: "card_title"
            name: "Binary Sensors"
            label: "This is the Minimalist-binary_sensor-card"
          - type: "custom:auto-entities"
            card:
              type: "grid"
              columns: 2
              square: false
            card_param: "cards"
            sort:
              count: 4
            filter:
              include:
                - domain: "binary_sensor"
                  options:
                    type: "custom:button-card"
                    template: "card_binary_sensor_alert"
                    variables:
                      - ulm_card_binary_sensor_alert: true
          - type: "custom:button-card"
            template: "card_title"
            name: "[[[ hass.resources[hass['language']]['ui.panel.lovelace.editor.card.sensor.name'] ]]]"
            label: "This is the Minimalist-sensor-card"
          - type: "custom:auto-entities"
            card:
              type: "grid"
              columns: 2
              square: false
            card_param: "cards"
            sort:
              count: 4
            filter:
              include:
                - domain: "sensor"
                  options:
                    type: "custom:button-card"
                    template: "card_generic"
          - type: "custom:button-card"
            template: "card_title"
            name: "[[[ hass.resources[hass['language']]['ui.dialogs.entity_registry.editor.device_classes.binary_sensor.battery'] ]]]"
            label: "This is the Minimalist-battery-card"
          - type: "custom:auto-entities"
            card:
              type: "grid"
              columns: 2
              square: false
            card_param: "cards"
            sort:
              count: 4
            filter:
              include:
                - attributes:
                    unit_of_measurement: "%"
                    device_class: "battery"
                  options:
                    type: "custom:button-card"
                    template: "card_battery"
                    variables:
                      ulm_card_battery_battery_state_entity_id: "this.entity_id"
                      ulm_card_battery_battery_level_danger: 30
                      ulm_card_battery_battery_level_warning: 80
